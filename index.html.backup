<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="2025 Fall PKU Computer Vision Final Project.">
  <meta name="keywords" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Diffusion Illusion</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-PYVRSFMDRL');
  </script> -->

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/favicon.svg">

  <style>
    /* Diffusion Illusion 样式 */
    .flip_image {
        -webkit-user-drag: none;
        user-select: none;
        -webkit-user-drag: none;
        -webkit-user-select: none;
        -moz-user-drag: none;
        -moz-user-select: none;
        -ms-user-drag: none;
        -ms-user-select: none;
        flex: 1;
        max-width: 30vw;
        max-height: 30vh;
        margin: 1vh;
        object-fit: cover;
        width: 256px;
        height: 256px;
        cursor: grab;
        animation: none;
    }

    .flip_image_animated {
        animation: flip 12s linear infinite;
    }

    @keyframes flip {
        100% { transform: rotateZ(360deg); }
        87.5%, 50% { transform: rotateZ(180deg); }
        37.5%, 0% { transform: rotateZ(0deg); }
    }

    .draggable-image {
        cursor: -webkit-grab;
        cursor: grab;
        user-select: none;
    }

    .ui-draggable-dragging {
        cursor: -webkit-grabbing;
        cursor: grabbing;
    }

    .quad-overlay {
        mix-blend-mode: multiply;
        filter: brightness(100%);
    }

    .rot-image-container {
        display: inline-block;
        position: relative;
        filter: brightness(200%);
        height: 256px;
        width: 256px;
    }

    .quad-rotating-image {
        position: absolute;
        top: 0;
        left: 0;
        mix-blend-mode: multiply;
    }

    @keyframes quad_rotate {
        0% { transform: rotateZ(0deg); }
        12.5%, 25% { transform: rotateZ(90deg); }
        37.5%, 50% { transform: rotateZ(180deg); }
        62.5%, 75% { transform: rotateZ(270deg); }
        87.5%, 100% { transform: rotateZ(360deg); }
    }

    .quad-rotating-animation {
        animation: quad_rotate 12s linear infinite;
    }

    .hidden-character-image-container {
        display: inline-block;
        position: relative;
        margin: 0;
        border: 0;
        height: 256px;
        width: 256px;
    }

    .hidden-character-image {
        height: 256px;
        width: 256px;
    }

    .row {
        display: flex;
        flex-wrap: nowrap;
        justify-content: center;
        flex-direction: row;
    }

    .lightbox {
        background-color: white !important;
        border-radius: 20px;
        max-width: 100%;
        box-shadow: 0px 0px 51px 5px rgba(255, 255, 255, 0.62);
    }
  </style>

  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>

  <script>
    // Diffusion Illusion JavaScript 代码
    $(function () {
        function storeOriginalPositions() {
            $('.draggable-image').each(function () {
                $(this).data('originalPosition', $(this).position());
            });
        }

        function makeImagesDraggable() {
            $('.draggable-image').draggable({
                snap: '.hidden-character-image, .lightbox',
                start: function () {
                    if ($(this).hasClass('wiggly-image')) {
                        stop_wiggle = true;
                    }
                },
                drag: function (event, ui) {
                    ui.helper.css('transform', transformMatrix);
                },
                stop: function () {
                    $('.reset-all-hidden-characters-button').removeClass('inactive_button');
                }
            }).dblclick(function () {
                var originalPosition = $(this).data('originalPosition');
                $(this).animate({
                    top: originalPosition.top,
                    left: originalPosition.left
                }, 1000);
            });
        }

        function resetHiddenCharactersPositions() {
            $('.reset-all-hidden-characters-button').click(function () {
                $('.hidden-character-image').each(function () {
                    var originalPosition = $(this).data('originalPosition');
                    $(this).animate({
                        top: originalPosition.top,
                        left: originalPosition.left
                    }, 1000);
                });
                $(this).addClass('inactive_button');
            });
        }

        function resetFlipImagesPositions() {
            $('.reset-all-flip-images-button').click(function () {
                $('.flip_image').each(function () {
                    var originalPosition = $(this).data('originalPosition');
                    $(this).removeClass('flip_image_animated');
                    $(this).css({
                        'transform': 'rotateZ(0deg)',
                        'transition': 'transform 1s'
                    });

                    setTimeout(() => {
                        $(this).css('transition', '');
                        $(this).addClass('flip_image_animated');
                    }, 1000);
                });
                $(this).addClass('inactive_button');
            });
        }

        function initFlipImageRotation() {
            var dragging = false;
            var currentElement;
            var centerX, centerY;
            var initialAngle, currentRotation;

            function getCurrentRotation(elem) {
                var matrix = elem.css('transform');
                var angle = 0;
                if (matrix !== 'none') {
                    var values = matrix.split('(')[1].split(')')[0].split(',');
                    var a = values[0], b = values[1];
                    angle = Math.atan2(b, a) * (180 / Math.PI);
                }
                return angle;
            }

            $('.flip_image').mousedown(function (e) {
                $('.reset-all-flip-images-button').removeClass('inactive_button');
                dragging = true;
                currentElement = $(this);
                centerX = currentElement.offset().left + (currentElement.width() / 2);
                centerY = currentElement.offset().top + (currentElement.height() / 2);
                var mouseX = e.pageX, mouseY = e.pageY;
                initialAngle = Math.atan2(mouseX - centerX, mouseY - centerY);
                currentRotation = getCurrentRotation(currentElement);
                currentElement.css('cursor', 'grabbing');
                currentElement.removeClass('flip_image_animated');
            });

            $('.flip_image').dblclick(function () {
                $(this).addClass('flip_image_animated');
            });

            $(document).mouseup(function () {
                if (dragging && currentElement) {
                    currentElement.css('cursor', 'grab');
                }
                dragging = false;
            });

            $(document).mousemove(function (e) {
                if (dragging && currentElement) {
                    var mouseX = e.pageX, mouseY = e.pageY;
                    var currentAngle = Math.atan2(mouseX - centerX, mouseY - centerY);
                    var deltaAngle = initialAngle - currentAngle;
                    var newRotation = currentRotation + (deltaAngle * (180 / Math.PI));
                    currentElement.css('transform', 'rotate(' + newRotation + 'deg)');
                    currentElement.css('transform-origin', '50% 50%');
                }
            });
        }

        // 初始化函数
        storeOriginalPositions();
        makeImagesDraggable();
        resetHiddenCharactersPositions();
        resetFlipImagesPositions();
        initFlipImageRotation();
    });
  </script>
</head>
<body>

<!-- <nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="navbar-menu">
    <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
      <a class="navbar-item" href="https://keunhong.com">
      <span class="icon">
          <i class="fas fa-home"></i>
      </span>
      </a>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link">
          More Research
        </a>
        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://hypernerf.github.io">
            HyperNeRF
          </a>
          <a class="navbar-item" href="https://nerfies.github.io">
            Nerfies
          </a>
          <a class="navbar-item" href="https://latentfusion.github.io">
            LatentFusion
          </a>
          <a class="navbar-item" href="https://photoshape.github.io">
            PhotoShape
          </a>
        </div>
      </div>
    </div>

  </div>
</nav> -->


<section class="hero">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title">Diffusion Illusion</h1>
          <div class="is-size-5 publication-authors">
            <span class="author-block">
              <a href="https://smallyang688.github.io/">Zihan Yang</a><sup>1</sup>,</span>
            <span class="author-block">
              Yuming Fang<sup>1</sup>,</span>
            <span class="author-block">
              Yueran Wang<sup>2</sup>
            </span>
          </div>

          <div class="is-size-5 publication-authors">
            <span class="author-block"><sup>1</sup>Peking University, School of Electronics Engineering and Computer Science,</span>
            <span class="author-block"><sup>2</sup>Peking University, School of Mathematical Sciences</span>
          </div>

          <div class="column has-text-centered">
            <div class="publication-links">
              <!-- PDF Link. -->
              <span class="link-block">
                <a href="https://arxiv.org/pdf/2312.03817"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>
              <span class="link-block">
                <a href="https://arxiv.org/abs/2312.03817"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
              <!-- Code Link. -->
              <span class="link-block">
                <a href="https://github.com/RyannDaGreat/Diffusion-Illusions"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code</span>
                  </a>
              </span>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="hero teaser">
  <div class="container is-max-desktop">
    <div class="hero-body">
      <h2 class="subtitle has-text-centered">
        2025 Fall PKU Computer Vision Final Project
      </h2>
    </div>
  </div>
</section>


<section class="hero is-light is-small">
  <div class="hero-body">
    <div class="container">
      <!-- First row: 5 images -->
      <div class="columns is-centered">
        <div class="column is-one-fifth">
          <img src="./static/images/flippy_illusions.jpg" alt="Flippy Illusions" style="width: 100%;">
        </div>
        <div class="column is-one-fifth">
          <img src="./static/images/parker_puzzle.jpg" alt="Parker Puzzle" style="width: 100%;">
        </div>
        <div class="column is-one-fifth">
          <img src="./static/images/rotation_overlays.jpg" alt="Rotation Overlays" style="width: 100%;">
        </div>
        <div class="column is-one-fifth">
          <img src="./static/images/20260103diy.png" alt="20260103diy" style="width: 100%;">
        </div>
        <div class="column is-one-fifth">
          <img src="./static/images/twisting squares.png" alt="Twisting Squares" style="width: 100%;">
        </div>
      </div>
      <!-- Second row: 1 image -->
      <div class="columns is-centered" style="margin-top: 2rem;">
        <div class="column is-one-third">
          <img src="./static/images/hidden_characters.jpg" alt="Hidden Characters" style="width: 100%;">
        </div>
      </div>
    </div>
  </div>
</section>


<section class="section">
  <div class="container is-max-desktop">
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            Coming soon~
          </p>
        </div>
      </div>
    </div>
    <!--/ Abstract. -->
  </div>
</section>

<!-- Interactive Demos Section -->
<section class="section">
  <div class="container is-max-desktop">
    <div class="columns is-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Interactive Demos</h2>

        <!-- Flip Illusion Demo -->
        <h3 class="title is-4">Flip Illusion</h3>
        <p>Click and drag to rotate, double-click to reset</p>
        <div style="text-align: center; margin: 20px 0;">
          <button class="reset-all-flip-images-button button is-primary">Reset All Rotations</button>
        </div>
        <div class="columns is-centered">
          <div class="column is-half">
            <div class="image-container" style="text-align: center;">
              <div class="caption">Example Flip Image</div>
              <img src="./static/images/flip_example.jpg" class="flip_image flip_image_animated" style="max-width: 200px; max-height: 200px;">
            </div>
          </div>
        </div>

        <!-- Hidden Overlay Demo -->
        <h3 class="title is-4" style="margin-top: 2rem;">Hidden Overlay Illusion</h3>
        <p>Drag the images together to reveal the hidden pattern</p>
        <div style="text-align: center; margin: 20px 0;">
          <button class="reset-all-hidden-characters-button button is-primary">Reset All Positions</button>
        </div>
        <div class="lightbox" style="padding: 20px; margin: 20px auto; max-width: 600px;">
          <div class="row">
            <div class="hidden-character-image-container">
              <img src="./static/images/overlay1.png" class="draggable-image quad-overlay hidden-character-image">
            </div>
            <div class="hidden-character-image-container">
              <img src="./static/images/overlay2.png" class="draggable-image quad-overlay hidden-character-image">
            </div>
            <div class="hidden-character-image-container">
              <img src="./static/images/overlay3.png" class="draggable-image quad-overlay hidden-character-image">
            </div>
            <div class="hidden-character-image-container">
              <img src="./static/images/overlay4.png" class="draggable-image quad-overlay hidden-character-image">
            </div>
          </div>
          <div class="caption" style="text-align: center; margin-top: 10px;">
            Drag these 4 images together to see the hidden effect!
          </div>
        </div>
      </div>
    </div>
  </div>
</section>




<section class="section" id="BibTeX">
  <div class="container is-max-desktop content">
    <h2 class="title">BibTeX</h2>
    <pre><code>@article{diffusion illusion
  author    = {Zihan Yang, Yuming Fang, Yueran Wang},
  title     = {Diffusion Illusion},
  journal   = {PKU Computer Vision Final Project},
  year      = {2025},
}</code></pre>
  </div>
</section>


<footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <a class="icon-link"
         href="https://arxiv.org/pdf/2312.03817">
        <i class="fas fa-file-pdf"></i>
      </a>
      <a class="icon-link" href="https://github.com/RyannDaGreat/Diffusion-Illusions" class="external-link">
        <i class="fab fa-github"></i>
      </a>
    </div>
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">
          <p>
            This website is licensed under a <a rel="license"
                                                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>
          <p>
            This means you are free to borrow the <a
              href="https://github.com/nerfies/nerfies.github.io">source code</a> of this website,
            we just ask that you link back to this page in the footer.
            Please remember to remove the analytics code included in the header of the website which
            you do not want on your website.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

</body>
</html>
